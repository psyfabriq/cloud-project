<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/adm/header :: admhead}"></head>
<body>

	<div class="wrapper">

		<div th:replace="~{fragments/adm/navbar :: admsidebar}"></div>
		<div class="main-panel">
			<div th:replace="~{fragments/adm/navbar :: admnavbar}"></div>
			<div class="content">
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-12">
							<div class="card">
								<div class="header">
									<div class="btn-toolbar pull-right">
										<div class="btn-group">
                                            	<a type="button" class="btn btn-info" th:href="@{/secure/articles/add}"><span class="glyphicon glyphicon-plus"></span></a>	
											<button type="button" class="btn btn-danger">
												<span class="glyphicon glyphicon-remove"></span>
											</button>
										</div>

									</div>
								</div>
								<div class="content table-responsive table-full-width">
									<table class="table table-striped" id=listtable>
										<thead>
											<tr>
												<th><label class="box"><input type="checkbox"
														id="checkall" /> <span class="checkmark"></span> </label></th>
												<th>ID</th>
												<th>Name</th>
												<th>Active</th>
												<th>Published Date</th>
												<th>End Date</th>
												<th>Categories</th>
												<th>Tegs</th>
												<th>Action</th>
											</tr>
										</thead>
										<tbody>
											<th:block th:each="article : ${listItems.content}">
												<tr>
													<td><label class="box"><input
															type="checkbox" class="checkthis" /> <span
															class="checkmark"></span></label></td>
													<td th:text="${article.id}"></td>
													<td th:text="${article.name}"></td>
													<td th:text="${article.active}"></td>
													<td th:text="${article.createdAt}"></td>
													<td th:text="${article.endDate}"></td>

													<td>
														<th:block th:each="category : ${article.category}">
															<p th:text="${category.name}"></p>
														</th:block>
													</td>


													<td>
														<th:block th:each="teg : ${article.tegs}">
													    	<p th:text="${teg.name}"></p>
													  	</th:block>
													</td>

													<td>
														<div class="btn-group">
															<button type="button" class="btn btn-default">
																<a th:href="@{/secure/article/}+${article.id}"><span
																	class="glyphicon glyphicon-pencil"></span></a>
															</button>
															<button type="button" class="btn btn-default"
																data-toggle="modal" data-target="#modal-warning"
																th:attr="data-target='#'+${article.id}">
																<span class="glyphicon glyphicon-trash"></span>
															</button>
														</div>
													</td>
												</tr>
												<div th:replace="~{fragments/adm/modal :: remove(@{Delete Article({name}) (name=${article.name})},@{Are you sure want to delete this article ?},@{/secure/article/{id}/delete (id=${article.id})},${article.id})}"></div>
												
											</th:block>
										</tbody>
									</table>
									<div th:if="${listItems.totalPages > 0}" class="pagination"
										th:each="pageNumber : ${pageNumbers}">
										<a
											th:href="@{/secure/users(size=${listItems.size}, page=${pageNumber})}"
											th:text=${pageNumber}
											th:class="${pageNumber==listItems.number + 1} ? active"></a>
									</div>

								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
		<!-- /.main-panel -->
		<div th:replace="~{fragments/adm/footer :: admfooter}"></div>

	</div>
	<!-- /.wrapper -->
	<div th:replace="~{fragments/adm/js :: admjs}"></div>
	<div th:replace="~{fragments/adm/js :: listjs}"></div>
</body>
</html>
